/* ============ Theme nội bộ ============ */
.intro-savista{
  --card-bg: #ffffff;
  --card-border: #e6e9ef;
  --shadow: 0 8px 20px rgba(16,24,40,.06);
  --stripe-start: #0db39e;
  --stripe-end: #34d399;
  --title: #f26a21;          /* tiêu đề cam */
  --text: #1e3a8a;           /* chữ mô tả */
  --muted: #5b6070;
  --icon-grad-a: #ff7a45;    /* icon cam → vàng */
  --icon-grad-b: #ffb703;
  --acc-bg: #eaf2ff;         /* nền header accordion */
  --acc-border: #c9dafc;     /* viền header accordion */
  max-width: 1100px;
  margin: 15px auto;
  padding: 0 16px 48px;
}

/* ============ Grid 2 cột, 2 hàng bằng nhau ============ */
.intro-savista .intro-grid{
  display: grid;
  grid-template-columns: 1fr 1fr;   /* trái | phải */
  grid-template-rows: 1fr 1fr;      /* 2 hàng = nhau */
  gap: 24px;
  align-items: stretch;
}

/* ============ Card chung ============ */
.intro-savista .intro-card{
  background: var(--card-bg);
  border: 1.5px solid var(--card-border);
  border-radius: 14px;
  box-shadow: var(--shadow);
  position: relative;
  padding: 28px;
  display: flex;
  flex-direction: column;
  align-items: center;
  height: 100%;
}

/* Sọc màu ở mép trái card */
.intro-savista .intro-card::before{
 content:"";
  position:absolute;
  left: 0;
  top: 0;      
  bottom: 0;  
  width: 10px;
  border-radius: 8px 0 0 8px;
  background: linear-gradient(180deg, #3b82f6, #9333ea, #f43f5e);
}

/* Card phải chiếm 2 hàng */
.intro-savista .intro-card--right{
    grid-column: 2;
    grid-row: 1 / span 2;
    align-items: center;
}

.intro-savista .intro-card--right .intro-acc {
  margin-top: 18px;
  width: 100%; /* accordion full width */
}


/* Icon – Title – Desc xếp dọc */
.intro-savista .intro-card__icon{
    font-size: 60px;
  margin: 8px 0 16px;
  background: linear-gradient(135deg, #f97316, #facc15);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  color: transparent;
}
.intro-savista .intro-card__title{
  font-weight: 800;
  font-size: 26px;
  color: var(--title);
  text-align: center;
  margin-bottom: 10px;
}
.intro-savista .intro-card__desc{
text-align: center;
  color: #374151;
  font-weight: 500;
  line-height: 1.6;
}

/* ============ Accordion ============ */
.intro-savista .intro-acc{ margin-top: 14px; display:flex; flex-direction:column; gap:14px; }

.intro-savista .acc-item{
  border: 1px solid var(--acc-border);
  border-radius: 10px;
  overflow: hidden;
  background: #fff;
}

.intro-savista .acc-head{
  border: none;
  width: 100%;
  padding: 14px 18px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  cursor: pointer;
  user-select: none;
  font-weight: 700;
  font-size: 15.5px;
  background: linear-gradient(90deg, #0ea5e9, #2563eb);
  color: #fff;
}
.intro-savista .acc-head .chev{
  font-size: 18px;
  color: #fff; 
}

.intro-savista .acc-panel{
  display: none;
  padding: 14px 18px 18px;
  background: #fff;
  color: #475569;
  font-size: 15px;
  line-height: 1.6;
}

.intro-savista .acc-panel ul{
  margin: 0 0 0 18px;
  padding: 0;
}
.intro-savista .acc-panel li{
  margin: 6px 0;
}
/* ============ Responsive ============ */
@media (max-width: 880px){
  .intro-savista .intro-grid{
    grid-template-columns: 1fr;   /* 1 cột */
    grid-template-rows: auto;     /* auto cao */
  }
  .intro-savista .intro-card--right{
    grid-column: 1;
    grid-row: auto;
  }
}

// Phases

.phases-wrapper {
  --s1w: 200px;
  --s1h: 100px;
  --half: calc(var(--s1w) / 2);
  --overlap: 2px;
  max-width: 960px;
  margin: 40px auto;
  font-family: Arial, sans-serif;
}

.phases-title {
  text-align: center;
  margin-bottom: 36px;
  font-size: 28px;
  font-weight: 900;
  background: linear-gradient(135deg, #ff3b3b, #ff8c00, #ffcc00);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
          background-clip: text;
          color: transparent;

  /* thêm bóng chữ cho nổi bật hơn */
  text-shadow: 2px 3px 8px rgba(0,0,0,0.25);
}

.phases-rows {
  display: flex;
  flex-direction: column;
  padding-top: calc(-1 * var(--overlap));
}

.phase-row {
  display: flex;
  align-items: stretch;
  position: relative;
  height: var(--s1h);
  margin-top: var(--overlap);
}

/* màu từng phase */
.phase-1 { order:5; margin-left:0;                   margin-right:calc(4*var(--half)); --grad:linear-gradient(135deg,#dc2626,#ef4444);}
.phase-2 { order:4; margin-left:calc(1*var(--half)); margin-right:calc(3*var(--half)); --grad:linear-gradient(135deg,#db2777,#f472b6);}
.phase-3 { order:3; margin-left:calc(2*var(--half)); margin-right:calc(2*var(--half)); --grad:linear-gradient(135deg,#2563eb,#60a5fa);}
.phase-4 { order:2; margin-left:calc(3*var(--half)); margin-right:calc(1*var(--half)); --grad:linear-gradient(135deg,#0d9488,#14b8a6);}
.phase-5 { order:1; margin-left:calc(4*var(--half)); margin-right:0;                   --grad:linear-gradient(135deg,#16a34a,#22c55e);}

/* Phase 1 */
.phase-1 {
  --s1-shadow:
    drop-shadow(-16px 0 16px rgba(220,38,38,.45))
    drop-shadow(0 -8px 12px rgba(220,38,38,.25))
    drop-shadow(0 14px 16px rgba(220,38,38,.35));
  --s2-shadow:
    drop-shadow(16px 0 16px rgba(255,120,120,.40))
    drop-shadow(0 8px 10px rgba(255,120,120,.18))
    drop-shadow(0 -6px 8px rgba(255,120,120,.14));
  --stroke: linear-gradient(135deg, #ffb3b3, #ff4d4d); /* đỏ sáng nổi bật */
}

/* Phase 2 */
.phase-2 {
  --s1-shadow:
    drop-shadow(-16px 0 16px rgba(219,39,119,.45))
    drop-shadow(0 -8px 12px rgba(219,39,119,.25))
    drop-shadow(0 14px 16px rgba(219,39,119,.35));
  --s2-shadow:
    drop-shadow(16px 0 16px rgba(255,140,190,.40))
    drop-shadow(0 8px 10px rgba(255,140,190,.18))
    drop-shadow(0 -6px 8px rgba(255,140,190,.14));
  --stroke: linear-gradient(135deg, #ffb6d9, #ff4da6); /* hồng sáng hơn */
}

/* Phase 3 */
.phase-3 {
  --s1-shadow:
    drop-shadow(-16px 0 16px rgba(37,99,235,.42))
    drop-shadow(0 -8px 12px rgba(37,99,235,.24))
    drop-shadow(0 14px 16px rgba(37,99,235,.34));
  --s2-shadow:
    drop-shadow(16px 0 16px rgba(140,180,255,.40))
    drop-shadow(0 8px 10px rgba(140,180,255,.18))
    drop-shadow(0 -6px 8px rgba(140,180,255,.14));
  --stroke: linear-gradient(135deg, #a8c8ff, #3366ff); /* xanh sáng đậm */
}

/* Phase 4 */
.phase-4 {
  --s1-shadow:
    drop-shadow(-16px 0 16px rgba(13,148,136,.42))
    drop-shadow(0 -8px 12px rgba(13,148,136,.24))
    drop-shadow(0 14px 16px rgba(13,148,136,.34));
  --s2-shadow:
    drop-shadow(16px 0 16px rgba(100,230,210,.38))
    drop-shadow(0 8px 10px rgba(100,230,210,.18))
    drop-shadow(0 -6px 8px rgba(100,230,210,.14));
  --stroke: linear-gradient(135deg, #7fffe1, #00997a); /* xanh ngọc nổi hơn */
}

/* Phase 5 */
.phase-5 {
  --s1-shadow:
    drop-shadow(-16px 0 16px rgba(22,163,74,.42))
    drop-shadow(0 -8px 12px rgba(22,163,74,.24))
    drop-shadow(0 14px 16px rgba(22,163,74,.34));
  --s2-shadow:
    drop-shadow(16px 0 16px rgba(140,240,170,.38))
    drop-shadow(0 8px 10px rgba(140,240,170,.18))
    drop-shadow(0 -6px 8px rgba(140,240,170,.14));
  --stroke: linear-gradient(135deg, #a6ffb3, #00cc44); /* xanh lá sáng hơn */
}
/* shape1 */
.phase-shape1-wrap {
  position: relative;
  width: var(--s1w);
  height: var(--s1h);
  flex-shrink: 0;
  filter: var(--s1-shadow);
}
.phase-shape1 {
  width: 100%; height: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 16px;
  background: var(--grad);

  -webkit-mask-image: url('../assets/shape1.svg');
          mask-image: url('../assets/shape1.svg');
  -webkit-mask-size: cover; mask-size: cover;
  -webkit-mask-repeat: no-repeat; mask-repeat: no-repeat;
  -webkit-mask-position: center; mask-position: center;
}

/* shape2 */
.phase-shape2-wrap {
  flex: 1;
  height: var(--s1h);
  position: relative;
  display: flex;
  align-items: center;
  margin-left: -100px;
  filter: var(--s2-shadow);

}

.phase-shape2-stroke {
 position:absolute; 
 inset: -1%;
  background: var(--stroke);   
  -webkit-mask: url('../assets/shape2.svg') no-repeat left center / contain;
          mask: url('../assets/shape2.svg') no-repeat left center / contain;
  filter: url(#shape2-grad-stroke-6);
  z-index:0;
  pointer-events:none;
}

.shape1-hover {
  transform: scale(1.1) rotate(-2deg);
  transition: transform 0.3s ease, filter 0.3s ease;
  filter: brightness(1.2);
  z-index: 3;
}

/* hiệu ứng cho shape bên phải */
.shape2-hover {
  transform: translateX(8px) scale(1.03);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  box-shadow: 0 0 25px rgba(0,0,0,0.25);
  border-radius: 8px;
  z-index: 3;
}

/* chỉ mask */
.phase-shape2-mask {
  position:absolute; 
  inset:0;
  background:#fff;
  -webkit-mask: url('../assets/shape2.svg') no-repeat left center / contain;
          mask: url('../assets/shape2.svg') no-repeat left center / contain;
  z-index:1;
  pointer-events:none;
}
/* content không bị mask */
.phase-shape2-content {
  position: relative;
  z-index: 2;
  flex: 1;
  padding: 12px 81px 12px 104px;
  box-sizing: border-box;
}

/* viền gradient phải */
.phase-shape2-mask::after {
  content: "";
  position: absolute;
  top: 0;
  bottom: 0; 
  left: 84%;  
  width: 9px;
  background: var(--grad);
  z-index: 2;
}

/* nội dung */
.phase-1 .phase-num, .phase-1 .phase-ico { color:#fff59d; text-shadow:0 2px 4px rgba(200,0,0,.35); }
.phase-2 .phase-num, .phase-2 .phase-ico { color:#b9fbc0; text-shadow:0 2px 4px rgba(180,30,100,.35); }
.phase-3 .phase-num, .phase-3 .phase-ico { color:#ffd580; text-shadow:0 2px 4px rgba(20,60,160,.35); }
.phase-4 .phase-num, .phase-4 .phase-ico { color:#ffb3c6; text-shadow:0 2px 4px rgba(0,100,90,.35); }
.phase-5 .phase-num, .phase-5 .phase-ico { color:#d0a2f7; text-shadow:0 2px 4px rgba(0,100,40,.35); }

.phase-num {
  font-size: 20px;
  font-weight: 700;
  text-align: center;
  flex: 1;
}
.phase-ico {
  font-size: 22px;
  text-align: center;
  flex: 1;
}

.phase-title {
  font-size: 16px;
  font-weight: 700;
  margin: 0 0 6px 0;
  color: #0f172a;
}
.phase-desc {
  font-size: 14px;
  line-height: 1.4;
  color: #334155;
}

@media (max-width: 992px) {
  .phases-wrapper {
    --s1w: 160px;
    --s1h: 80px;
    --font-title: 14px;
    --font-desc: 12px;
    --stroke-inset: -0.8%;
  }
}
@media (max-width: 600px) {
  .phases-wrapper {
    --s1w: 120px;
    --s1h: 60px;
    --join: calc(var(--s1w) * -0.50);    /* = -60px khi s1w=120 */
    --padL: clamp(36px, calc(var(--s1w) * 0.48), 72px);
    --padR: clamp(16px, calc(var(--s1w) * 0.30), 56px);
    --edgeW: clamp(5px, 2.4vw, 9px);
  }

  /* để cạnh phải pseudo khớp đúng, kéo shape fill toàn bộ wrap */
  .phase-shape2-mask,
  .phase-shape2-stroke {
    -webkit-mask-size: 100% 100%;
            mask-size: 100% 100%;
    -webkit-mask-position: center;
            mask-position: center;
  }

  /* giảm chữ để không tràn */
  .phase-title { font-size: 13px; line-height: 1.25; }
  .phase-desc  { font-size: 11.5px; line-height: 1.35; }
}


// kiến thức trọng tâm
:root{
  --row-h:110px;
  --pencil-extra:100px;

  --hank-stroke:28px;   

  /* màu từng hàng */
  --c1:#16a9dd; --c1-shadow:rgba(22,169,221,.35);
  --c2:#ff633c; --c2-shadow:rgba(255,99,60,.35);
  --c3:#5aa63a; --c3-shadow:rgba(90,166,58,.35);
  --c4:#f3a61a; --c4-shadow:rgba(243,166,26,.35);
  --c5:#7b5be0; --c5-shadow:rgba(123,91,224,.35);

  --t1-start:#ffdd55; --t1-end:#ff8800;   /* vàng cam trên nền xanh dương */
  --t2-start:#33ccff; --t2-end:#0066ff;   /* xanh dương trên nền cam */
  --t3-start:#ff66cc; --t3-end:#cc00ff;   /* hồng tím trên nền xanh lá */
  --t4-start:#66ffcc; --t4-end:#009966;   /* xanh ngọc trên nền vàng cam */
  --t5-start:#ff6666; --t5-end:#ff0000;   /* đỏ trên nền tím */

  --c1-dark:#14b3f7;
  --c2-dark:#f45e39;
  --c3-dark:#65bd3f;
  --c4-dark:#f9ab1a;
  --c5-dark:#7c57f4;
  --eraser:#b22222;
}

.ds-infographic{max-width:1200px;margin:auto;padding:40px 20px}
.ds-infographic h1{margin:0 0 28px;text-align:center;font-weight:800}

.ds-infographic .ds-title {
  font-size: 2.5em;
  font-weight: 800;
  text-align: center;
  margin-bottom: 28px;
  background: linear-gradient(135deg, #ff6a00, #ee0979, #7b5be0);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  display: inline-block;
  letter-spacing: 1px;
  text-transform: uppercase;
}

.ds-infographic .ds-subtitle {
  max-width: 800px;
  margin: 0 auto 40px auto;
  text-align: center;
  font-size: 1.2em;
  line-height: 1.6;
  background: linear-gradient(135deg, #16a9dd, #ff633c, #5aa63a, #f3a61a, #7b5be0);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  display: block;
  font-weight: 500;
}
/* ===== BOARD FLEX ===== */
.ds-board{
  position:relative;
       margin: 8em 0em;
      }
.ds-rows{
  display:flex; flex-direction:column; gap: 20px;
  position:relative; z-index:4;
  padding-block: calc(var(--pencil-extra)/2);
}
.ds-row{
  display:flex; align-items:center; justify-content:space-between;
  height:var(--row-h); position:relative;
}

/* ===== PENCIL (trung tâm, 1 lần) ===== */
.ds-pencil{
  position: absolute;
    z-index: 2;
  pointer-events: auto;
    width: 360px;
    height: 54em;
    left: 50%;
    bottom: -77px;
    transform: translate(-50%, 0);
}
.ds-pencil-shadow{position:absolute; inset:0;  filter: drop-shadow(0px 12px 18px rgba(0,0,0,0.45));}
.ds-pencil-shape{
  position:absolute; 
  inset:0;
  z-index: 2;
  background: repeating-linear-gradient(
    90deg,
    #ff7b7b 0%,
    #ffb6b6 12%,
    #ff8a8a 25%,
    #ff5a5a 40%,
    #ff8a8a 55%,
    #ffb6b6 70%,
    #ff7b7b 85%
  );
  -webkit-mask:url('../assets/pencil.svg') center/contain no-repeat;
          mask:url('../assets/pencil.svg') center/contain no-repeat;
  transition: background 0.4s ease, filter 0.4s ease;
}
.ds-pencil-shape::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0; right: 0;
  height: 12%;
  background: linear-gradient(135deg, #ff7b7b, #ffb6b6); 
  box-shadow: inset 0 3px 6px rgba(0,0,0,0.25); 
  transition: background 0.4s ease;
}
.ds-pencil-shape::after {
  content:"";
  position:absolute;
  bottom:0;
  left:0;
  right:0;
  height:12%;
  background: linear-gradient(135deg, #111, #444);
 transition: background 0.4s ease;
}

.ds-head{
  flex: 0 0;
  position: relative;
  right: -3em;
  display: flex;
  justify-content: flex-start;
  width: 32em;
  height: 110px;
  z-index: -1;
}
.ds-head-shape{ 
    height: var(--row-h);
    width: 32em;
    justify-content: space-between;
    display: flex;
    align-items: center;
    opacity: 0.8;
    padding: 0px 3em;
    color: #fff;
  filter: drop-shadow(0 6px 10px var(--c));
}


.ds-head-shape::before {
  content: "";
  position: absolute;
  inset: 0;
  opacity: 0.1;
  background: linear-gradient(135deg, var(--c-dark), var(--c-dark));
  -webkit-mask: url('../assets/head.svg') left center/100% 100% no-repeat;
          mask: url('../assets/head.svg') left center/100% 100% no-repeat;
  z-index: -1;
  -webkit-mask-composite: destination-over;
          mask-composite: intersect;
}

.ds-head-shape::after {
  content: "";
  position: absolute;
  inset: 2%;
  background: var(--c);
  -webkit-mask: url('../assets/head.svg') no-repeat left center / contain;
          mask: url('../assets/head.svg') no-repeat left center / contain;
  z-index: -1;
}


.ds-head .ds-head-shape .ds-head-icon {
    margin-right: 2em;
    font-size: 1.9em;
}
.ds-head .ds-head-shape .ds-head-title,
.ds-head .ds-head-shape .ds-head-desc {
 font-weight:500;
}

.ds-head .ds-head-shape .ds-head-icon i,
.ds-head .ds-head-shape .ds-head-title,
.ds-head .ds-head-shape .ds-head-desc {
background: linear-gradient(135deg, var(--t-start), var(--t-end));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  display:inline-block;
 
}

.ds-head .ds-head-shape .ds-head-texts .ds-head-title,
.ds-head .ds-head-shape .ds-head-texts .ds-head-desc{
  font-size: 1.1em;
}

/* ===== HANK (nằm trong từng ROW, TRÊN bút) ===== */
.ds-hank {
    position: relative;
    z-index: 3;
    // top: 0.4em;
    left: -6.1em;
    pointer-events: auto;
    width: 4em;
    height: 6.4em;
}
.ds-hank-shape {
  position: absolute;
  inset: 0;
  // background: linear-gradient(135deg, var(--c), var(--c) 40%, var(--c));
  background: linear-gradient(
    to left,
    rgba(255,255,255,0.6) 0%,   
    var(--c) 40%,
    var(--c-dark) 100%  
  );   
  width: 100%;
  height: 100%;
  -webkit-mask: url('../assets/hank.svg') center/100% 100% no-repeat;
          mask: url('../assets/hank.svg') center/100% 100% no-repeat;
  transform: scaleX(1.4);
  transform-origin: center;
  filter: drop-shadow(-3px 3px 5px rgba(0,0,0,0.25));
  // border: 3px solid var(--c-dark);
  border-color: color-mix(in srgb, var(--c) 40%,  var(--c) 100%);
  -webkit-mask-composite: destination-over;
          mask-composite: intersect;
  z-index: 4; /* nổi lên trên */
}

.ds-hank-shape::before{
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    background: var(--c);
    -webkit-mask-image: url('../assets/hank.svg');
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-position: center;
    -webkit-mask-size: calc(100% + 2 * var(--hank-stroke)) 100%;
    mask-image: url('../assets/hank.svg');
    mask-repeat: no-repeat;
    mask-position: center;
    mask-size: calc(100% + 2 * var(--hank-stroke)) 100%;
    z-index: 3;
}

/* ===== TAIL (giữ offset bạn đã đặt) ===== */
.ds-tail {
    flex: 0 0;
    position: relative;
    top: 0em;
    left: -15em;
    display: flex;
    justify-content: flex-start;
    width: 20em;
    z-index: 2;
}

.ds-tail-shape {
    height: 110px;
    width: 19.8em;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 5em;
    opacity: 0.8;
    color: #fff;
    font-weight: 800;
    filter: drop-shadow(0 6px 10px var(--c));
}

.ds-tail-shape::before {
  content: "";
  position: absolute;
  width: 100%;
  height: 100%;
  inset: 0;
  background: linear-gradient(135deg, var(--c-dark), var(--c-dark));
 opacity: 0.1;
  -webkit-mask: url('../assets/tail.svg') right center/100% 100% no-repeat;
          mask: url('../assets/tail.svg') right center/100% 100% no-repeat;
  z-index: -1;
  -webkit-mask-composite: destination-over;
          mask-composite: intersect;
}

.ds-tail-shape::after {
  content: "";
  position: absolute;
  inset: 2%;
  background: var(--c);
  -webkit-mask: url('../assets/tail.svg') no-repeat left center / contain;
          mask: url('../assets/tail.svg') no-repeat left center / contain;
  z-index: -1;
}


.ds-tail-shape .ds-tail-arrow i{
  font-size: 2.5em;
 background: linear-gradient(135deg, var(--t-start), var(--t-end));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  display:inline-block;
}

.ds-tail-shape .ds-tail-no {
  font-size: 2em;
background: linear-gradient(135deg, var(--t-start), var(--t-end));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  display:inline-block;
  font-weight:500;
}

/* ===== GÁN MÀU THEO HÀNG ===== */
.ds-row[data-row="1"]{
  --c:var(--c1); --c-dark:var(--c1-dark);
  --t-start:var(--t1-start); --t-end:var(--t1-end);
}
.ds-row[data-row="2"]{
  --c:var(--c2); --c-dark:var(--c2-dark);
  --t-start:var(--t2-start); --t-end:var(--t2-end);
}
.ds-row[data-row="3"]{
  --c:var(--c3); --c-dark:var(--c3-dark);
  --t-start:var(--t3-start); --t-end:var(--t3-end);
}
.ds-row[data-row="4"]{
  --c:var(--c4); --c-dark:var(--c4-dark);
  --t-start:var(--t4-start); --t-end:var(--t4-end);
}
.ds-row[data-row="5"]{
  --c:var(--c5); --c-dark:var(--c5-dark);
  --t-start:var(--t5-start); --t-end:var(--t5-end);
}


/* ===== HOVER HIỆU ỨNG ===== */
.ds-pencil:hover .ds-pencil-shape {
  background: linear-gradient(90deg, #ff3b3b, #ff6666, #ff0000);
  filter: brightness(1.1) contrast(1.2);
}

.ds-pencil:hover .ds-pencil-shape::before {
  background: linear-gradient(135deg, #ff9999, #ff3333);
}

.ds-pencil:hover .ds-pencil-shape::after {
  background: linear-gradient(135deg, #000, #666);
}

.row-tighten .ds-head-shape,
.row-tighten .ds-hank-shape,
.row-tighten .ds-tail-shape {
  transform: scaleX(0.95);
  filter: drop-shadow(0 4px 10px rgba(0,0,0,0.35));
  transition: transform 0.35s ease, filter 0.35s ease;
}

.glossy {
  position: relative;
  overflow: hidden;
}

.glossy::after {
  content: "";
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: linear-gradient(
    135deg,
    rgba(255,255,255,0) 40%,
    rgba(255,255,255,0.5) 50%,
    rgba(255,255,255,0) 60%
  );
  background-size: 200% 200%;
  animation: glossy-sweep 1s linear forwards;
  pointer-events: none;
}

/* Hiệu ứng ánh sáng quét chéo */
@keyframes glossy-sweep {
  0%   { background-position: -200% -200%; }
  100% { background-position: 200% 200%; }
}

/* rung nhẹ cả row */
.row-bounce {
  animation: bounce 0.6s;
}
@keyframes bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-5px); }
}

// importance
#km-module{
  --w:1400px; --h:900px;
  --center-size:400px; --s1-size:220px;
  --s2-gap:5px; --s2-w:400px; --s2-h:110px;
  --petal-gap:-23px; --center-gap:55px; --s1-pad:40px;
  font-family:"Segoe UI", Roboto, sans-serif;
  min-height:100vh; display:flex; flex-direction:column;
  align-items:center; justify-content:center;
  padding:32px 20px 80px;
}
.km-stage{ position:relative; width:var(--w); height:var(--h); }

.km-head{ text-align:center; margin-bottom:36px; max-width:1000px; }
.km-title,.km-sub{ margin:0 auto; max-width:820px; }
.km-title{
  font-size:36px; font-weight:800; line-height:1.2;
  background:linear-gradient(90deg,#ff512f,#dd2476,#24c6dc,#514a9d);
  -webkit-background-clip:text; -webkit-text-fill-color:transparent;
  text-shadow:0 6px 18px rgba(0,0,0,.18),0 2px 6px rgba(0,0,0,.12);
}
.km-sub{
  font-size:18px; line-height:1.6; font-weight:600;
  background:linear-gradient(90deg,#43e97b,#38f9d7,#fa709a,#fee140);
  -webkit-background-clip:text; -webkit-text-fill-color:transparent;
  text-shadow:0 3px 10px rgba(0,0,0,.12);
}

/* --- Center --- */
.km-center-wrap{
  position:absolute; left:50%; top:50%; transform:translate(-50%,-50%);
  width:var(--center-size); height:var(--center-size);
  border-radius:50%; padding:30px;
  background:linear-gradient(135deg,#6a5af9,#2ed3ea);
  display:flex; align-items:center; justify-content:center;
  text-align:center; z-index:100;
}
.km-center-wrap::before,.km-center-wrap::after{content:"";position:absolute;border-radius:50%;}
.km-center-wrap::before{inset:-8px; background:linear-gradient(135deg,#ff9a9e,#fad0c4);
  -webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);
  -webkit-mask-composite:xor; mask-composite:exclude; z-index:-1;}
.km-center-wrap::after{inset:-20px; background:linear-gradient(135deg,rgba(106,90,249,.5),rgba(46,211,234,.35));
  filter:blur(35px); z-index:-2;}
.km-center{font-weight:700;font-size:18px;line-height:1.5;
  background:linear-gradient(135deg,#ff9a9e,#fad0c4,#fbc2eb);
  -webkit-background-clip:text; -webkit-text-fill-color:transparent;
  text-shadow:0 2px 6px #ff9a9e,0 2px 12px #fbc2eb;
  display:-webkit-box;-webkit-line-clamp:6;-webkit-box-orient:vertical;
  overflow:hidden;text-overflow:ellipsis;}

/* --- Shape1 --- */
.km-orbit{position:absolute;width:var(--s1-size);height:var(--s1-size);
  left:50%;top:50%;transform-origin:0 0;transform:translate(-50%,-50%) rotate(0);}
.km-item{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);z-index:50;}
.km-s1-box{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;z-index:60;}
.km-s1-svg{width:100%;height:100%;display:block;overflow:visible;}
.km-s1-ico{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;
  font-size:32px;font-weight:700;pointer-events:none;}
.km-s1-ico::before{background-image:linear-gradient(135deg,var(--ico-g1,#fff),var(--ico-g2,#ddd));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;
  filter:drop-shadow(0 2px 4px rgba(0,0,0,.25));}

/* --- Shape2 --- */
.km-s2-box{
  position:absolute;
  width:var(--s2-w);
  height:var(--s2-h);
  pointer-events:none;
  z-index:30;
}

.km-s2-svg{
  width:100%;
  height:100%;
  display:block;
}

.km-s2-box svg path{
  pointer-events:auto;
}
.km-s2-num,
.km-s2-text{position:absolute;pointer-events:auto;z-index:70;}
.km-s2-num{top:10%;border-radius:50%;display:flex;align-items:center;justify-content:center;
  background:rgba(255,255,255,0.35);box-shadow:0 4px 10px rgba(0,0,0,.25);}
.km-s2-num .number_shape{font-weight:900;font-size:3.1em;
  background:linear-gradient(135deg,#ff512f,#24c6dc,#8a5cff);
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;line-height:1;}
.km-s2-text{top:50%;left:50%;transform:translate(-50%,-50%);
  max-width:85%;line-height:1.4;font-size:16px;font-weight:600;text-align:center;
  display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;
  overflow:hidden;text-overflow:ellipsis;text-shadow:2px 2px 4px rgba(0,0,0,0.4);}
.km-s2-num.right{right:0;transform:translate(-14%,-1%);}
.km-s2-num.left{left:0;transform:translate(14%,-1%);}

/* --- Hover/Active --- */
.km-center-wrap:hover{background:linear-gradient(135deg,#ff512f,#dd2476,#24c6dc,#514a9d);
  box-shadow:0 0 35px rgba(255,80,120,0.6),0 0 60px rgba(80,200,255,0.6);}
.km-center-wrap:hover .km-center{background:linear-gradient(135deg,#fff,#ffe082);
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;
  text-shadow:2px 2px 6px #ff4081,0 0 20px #40c4ff;}

.km-s1-box:hover svg path,
.km-s1-box.active svg path{
  filter:brightness(1.3) 
  saturate(1.6);
}
.km-s1-box:hover .km-s1-ico::before,
.km-s1-box.active .km-s1-ico::before{
  background-image:linear-gradient(135deg,#ff512f,#24c6dc,#ffeb3b);
  filter:drop-shadow(0 0 8px rgba(0,0,0,.6));}

.km-s2-box:hover svg path,
.km-s2-box.active svg path{
  filter:brightness(1.5) 
  saturate(1.7)
  ;stroke:#fff;
}
.km-s2-box:hover .km-s2-text,
.km-s2-box.active .km-s2-text{
  background:linear-gradient(135deg,#fff,#40c4ff,#ff4081);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  text-shadow:2px 2px 4px rgba(0,0,0,.6);}
.km-s2-box:hover .km-s2-num,
.km-s2-box.active .km-s2-num{
  background:linear-gradient(135deg,#ff4081,#ffeb3b);
}
.km-s2-box:hover .km-s2-num .number_shape,
.km-s2-box.active .km-s2-num .number_shape{
  background:linear-gradient(135deg,#40c4ff,#7c4dff);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}